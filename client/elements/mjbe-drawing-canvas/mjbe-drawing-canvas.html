<script src="../../bower_components/fabric.js/dist/fabric.js"></script>
<link rel="import" href="../../bower_components/iron-resizable-behavior/iron-resizable-behavior.html">
<dom-module id="mjbe-drawing-canvas">
<<<<<<< HEAD
  <template>
    <canvas id="canvas"></canvas>
  </template>
<script>
(function () {
  'use strict';
Polymer({
  is: 'mjbe-drawing-canvas',
  behaviors: [
    Polymer.IronResizableBehavior
  ],
  properties: {
    fabricCanvas: Object
  },
  listeners: {
    'iron-resize': '_onIronResize'
  },
  attached: function() {
    this.fabricCanvas = new fabric.Canvas('canvas');
    this.fabricCanvas.isDrawingMode = true;
    this.async(this.notifyResize, 1);
  },
  get parent() {
    if (this.parentNode.nodeType === Node.DOCUMENT_FRAGMENT_NODE) {
      return this.parentNode.host;
    }
    return this.parentNode;
  },
  _onIronResize: function() {
    var x = Math.floor(this.parent.offsetWidth);
    var y = Math.floor(this.parent.offsetHeight);
    this.$.canvas.setAttribute('width', x + 'px');
    this.$.canvas.setAttribute('height', y + 'px');
    this.fabricCanvas.setWidth(x);
    this.fabricCanvas.setHeight(y);
  }
});
}());
</script>
</dom-module>
=======
  <style>
  #canvas {
    height: 100%;
    width: 100%;
  }
  
  paper-material {}
  </style>
  <template>
  <style>
  #canvas:host {
    display: block;
  }
  </style>
    <paper-material elevation="1" class="canvasContainer fit">
      <canvas id="canvas" style="background-color: #000"></canvas>
    </paper-material>
  </template>
  <script>
  (function() {
      'use strict';

      Polymer({
          is: 'mjbe-drawing-canvas',
          attached: function() {

            var canvas = new fabric.Canvas('canvas');
            canvas.isDrawingMode = true;

            var rect = new fabric.Rect({
              top: 100,
              left: 100,
              width: 60,
              height: 70,
              fill: 'red'
            });

            canvas.add(rect);
            window.addEventListener('resize', this.resizeCanvas.bind(this), false);
            // resize on init
            this.resizeCanvas();
          },
          resizeCanvas:

            function() {
              Polymer.dom.flush();
            console.log(this);
            console.log(this.shadowRoot.querySelector('.canvasContainer'));
            canvas.setHeight(this.style.height);
            canvas.setWidth(this.offsetWidth);
            canvas.renderAll();
          }
        });
  })();
  </script>
</dom-module>
>>>>>>> working on canvas resizing, before adding iron resizable behavior
